# diagnosite 

## 遇到的问题

1.** 同步的问题**
	
>要实现滚动条滚动的距离和某屏的动画匹配


解决:把默认的滚动事件禁止，自己写一个滚动的事件，利用setTimeOut事件，做到到我在某一段事件只滚动一次，执行一次滚动函数。
解决:滚动函数，把滚动条总共滚动的距离和页面执行动画的总时间关联起来。通过函数把当前滚动条的top和当前动画关联起来，达到拖动滚动条来定位到当前动画执行的位置。

2.不同宽度视图下 布局显现的问题

解决：利用window.risize事件,动态的获取到屏幕的宽度,通过判断宽度给body添加不同的class来达到实现不同的视图

3.risize事件中,事件重复的添加和移除

解决:在切换到小于780的时候,把动画的相关的事件移除了,在切换回来之后，jq.on添加的事件会重复的添加，所以在切换回来之后的函数里判断这个事件是否存在(!$._data($('.wrapper')[0], "events")),真的话添加。

4.在主屏动画整屏滚动里面再次添加整屏滚动的问题

解决:先给一个空对象添加一个动画时长为0,在里面利用onComplete和onReverseComplete事件,切换不同的分屏动画,因为是0时长,所以要在下面添加一个和分屏动画时长相等的空对象,来达到动画的总时长是包括分屏的时长。